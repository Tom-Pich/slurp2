(()=>{"use strict";async function t(t,e=null){const a={method:"get"};return e&&(a.method="post",a.body=e),fetch(t,a).then((t=>t.json())).then((t=>t.data))}document.body.addEventListener("click",(async e=>{const a=e.target.closest("details.liste");if(!a)return;const i=a.querySelector("[data-details]");if(!i)return;const n=parseInt(i.dataset.id);if("spell"===i.dataset.type){const e=await t("/api/get-spell?id="+n);i.innerHTML=e.fullDescription}if("avdesav"===i.dataset.type){const e=await t("/api/get-avdesav?id="+n);i.innerHTML=e.description}if("creature"===i.dataset.type){const e=await t("/api/get-creature?id="+n);i.innerHTML=e.fullDescription}}))})();