(()=>{"use strict";const e=e=>document.querySelector(e),t=e=>document.querySelectorAll(e);function a(){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=document.documentElement;"auto"===t.dataset.preset&&e.matches?t.dataset.mode="dark":"auto"!==t.dataset.preset||e.matches||(t.dataset.mode="light")}!function(){const t=e("#connection-btn"),a=e("#connexion-dialog");e("[data-role=close-modal]").addEventListener("click",(()=>a.close())),"0"===t.dataset.state?t.addEventListener("click",(()=>a.showModal())):t.addEventListener("click",(()=>window.open("/submit/log-out","_self")))}(),function(){const t=e("#show-nav-on-mobile"),a=e("header nav");t.addEventListener("click",(()=>{a.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")?t.innerText="":t.innerText=""}))}(),function(){const a=t("[data-role=open-dialog]"),o=t("[data-role=close-modal]");a.forEach((t=>{t.addEventListener("click",(a=>{e(`[data-name=${t.dataset.dialogName}]`).showModal()}))})),o.forEach((e=>{e.addEventListener("click",(t=>{e.closest("dialog").close()}))}))}(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>a())),a();const o=new BroadcastChannel("display-options"),c=document.documentElement;o.onmessage=e=>{"mode"===e.data.option&&c.dataset.preset!==e.data.value?(c.dataset.preset=e.data.value,c.dataset.mode=e.data.value,a()):"style"===e.data.option&&("compact"!==e.data.value?document.body.classList.remove("compact"):document.body.classList.add("compact"))}})();